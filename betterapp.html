<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com https://drive.google.com https://*.cloudflarestream.com; media-src 'self' blob: https://drive.google.com https://*.cloudflarestream.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self' blob:; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ben Mak Claim Substantiation - Enhanced Version</title>
    <style>
        :root {
            /* Enhanced Glass Morphic Dark Mode Colors */
            --primary-color: #112240;
            --secondary-color: #1c3a6d;
            --accent-color: #38547a;
            --light-color: #f0f4f8;
            --dark-color: #0a0f20;
            --success-color: #0e8d62;
            --warning-color: #d86c18;
            --glass-bg: rgba(10, 15, 32, 0.75);
            --glass-border: rgba(255, 255, 255, 0.07);
            --glass-highlight: rgba(56, 84, 122, 0.2);
            --government-blue: #1e3c72;
            --executive-gray: #2c3e50;
            --highlight-color: #4a90e2;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--light-color);
            background-color: var(--dark-color);
            padding: 20px;
            background-image: linear-gradient(135deg, var(--dark-color) 0%, var(--executive-gray) 100%);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: var(--glass-bg);
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            overflow: hidden;
        }
        
        header {
            background-color: rgba(30, 60, 114, 0.8);
            color: white;
            padding: 25px;
            text-align: center;
            border-bottom: 1px solid var(--glass-border);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        h1 {
            margin-bottom: 10px;
            font-size: 2.2rem;
            letter-spacing: 0.5px;
        }
        
        h2 {
            color: var(--light-color);
            margin: 20px 0 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--glass-border);
        }
        
        h3 {
            color: var(--light-color);
            margin: 15px 0 10px;
        }
        
        .intro {
            padding: 20px;
            background-color: rgba(28, 58, 109, 0.3);
            margin-bottom: 20px;
            border-radius: 8px;
            border: 1px solid var(--glass-border);
        }
        
        .main-content {
            display: flex;
            min-height: 600px;
        }
        
        .sidebar {
            width: 250px;
            background-color: rgba(17, 34, 64, 0.5);
            padding: 20px;
            border-right: 1px solid var(--glass-border);
            transition: all 0.3s ease;
        }
        
        .content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        
        .nav-list {
            list-style: none;
        }
        
        .nav-list li {
            margin-bottom: 10px;
        }
        
        .nav-list a {
            color: var(--light-color);
            text-decoration: none;
            display: block;
            padding: 10px;
            border-radius: 6px;
            transition: all 0.3s ease;
            background-color: rgba(56, 84, 122, 0.1);
        }
        
        .nav-list a:hover {
            background-color: rgba(56, 84, 122, 0.3);
            transform: translateX(5px);
        }
        
        .nav-list a.active {
            background-color: var(--accent-color);
            color: white;
            box-shadow: 0 4px 12px rgba(56, 84, 122, 0.3);
        }
        
        .category {
            margin-bottom: 30px;
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .category:hover {
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
            transform: translateY(-2px);
        }
        
        .category-header {
            background-color: rgba(28, 58, 109, 0.7);
            color: white;
            padding: 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 6px 6px 0 0;
            border: 1px solid var(--glass-border);
            border-bottom: none;
        }
        
        .category-content {
            padding: 15px;
            display: none;
        }
        
        .category.active .category-content {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .claim {
            margin-bottom: 20px;
            padding: 15px;
            background-color: rgba(10, 15, 32, 0.6);
            border-radius: 6px;
            border-left: 4px solid var(--accent-color);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-left: 4px solid var(--accent-color);
            transition: all 0.3s ease;
        }
        
        .claim:hover {
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            transform: translateY(-2px);
            border-left: 4px solid var(--highlight-color);
        }
        
        .claim-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            flex-wrap: wrap;
            gap: 12px; /* Increased gap to prevent timestamp overlap */
        }
        
        .claim-title {
            font-weight: bold;
            color: var(--light-color);
            flex: 1;
            min-width: 200px;
        }
        
        .timestamp {
            color: var(--accent-color);
            cursor: pointer;
            font-weight: bold;
            text-decoration: underline;
            position: relative;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.2s ease;
            margin-right: 10px; /* Added margin to prevent overlap */
        }
        
        .timestamp:before {
            content: "▶";
            font-size: 0.8em;
        }
        
        .timestamp:hover {
            color: var(--highlight-color);
            transform: translateY(-1px);
        }
        
        .timestamp:hover::after {
            content: "Play clip";
            position: absolute;
            background-color: var(--dark-color);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            animation: fadeIn 0.2s ease;
        }
        
        .claim-quote {
            font-style: italic;
            margin: 10px 0;
            padding: 10px;
            background-color: rgba(17, 34, 64, 0.7);
            border-left: 3px solid var(--accent-color);
            border-radius: 0 6px 6px 0;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .claim-quote:hover {
            background-color: rgba(28, 58, 109, 0.7);
            border-left: 3px solid var(--highlight-color);
        }
        
        .claim-quote-timestamp {
            position: absolute;
            right: 10px;
            top: 10px;
            font-size: 0.8rem;
            color: var(--accent-color);
            cursor: pointer;
            text-decoration: underline;
            transition: all 0.2s ease;
        }
        
        .claim-quote-timestamp:hover {
            color: var(--highlight-color);
            transform: translateY(-1px);
        }
        
        .claim-analysis {
            margin-top: 10px;
            font-size: 0.95rem; /* Reduced font size for better fit */
        }
        
        .evidence-strength {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: 10px;
            transition: all 0.2s ease;
        }
        
        .evidence-strength:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        .strong {
            background-color: var(--success-color);
            color: white;
        }
        
        .moderate {
            background-color: var(--warning-color);
            color: white;
        }
        
        .weak {
            background-color: var(--accent-color);
            color: white;
        }
        
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            overflow: hidden; /* Changed from auto to hidden to prevent scrolling */
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background-color: var(--glass-bg);
            padding: 20px;
            border-radius: 12px;
            width: 90%; /* Increased width for mobile */
            max-width: 800px;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) !important; /* Force center positioning */
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            max-height: 90vh;
            overflow-y: auto;
            animation: slideIn 0.3s ease;
            z-index: 1001; /* Ensure it's above other elements */
        }
        
        @keyframes slideIn {
            from { transform: translate(-50%, -60%); opacity: 0; }
            to { transform: translate(-50%, -50%); opacity: 1; }
        }
        
        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            z-index: 1002; /* Above modal content */
            transition: all 0.2s ease;
        }
        
        .close-btn:hover {
            color: white;
            transform: rotate(90deg);
        }
        
        .video-container {
            width: 100%;
            margin-top: 20px;
            position: relative;
        }
        
        .evidence-summary {
            background-color: rgba(17, 34, 64, 0.7);
            border-left: 4px solid var(--accent-color);
            padding: 15px;
            margin-top: 15px;
            border-radius: 4px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            font-size: 0.9rem; /* Reduced font size for better fit */
        }
        
        .evidence-summary:hover {
            border-left: 4px solid var(--highlight-color);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }
        
        .evidence-summary h4 {
            margin-top: 0;
            color: var(--light-color);
            font-size: 1rem; /* Reduced font size for better fit */
        }
        
        .evidence-summary ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .evidence-summary li {
            margin-bottom: 5px;
            position: relative;
            transition: all 0.2s ease;
            font-size: 0.85rem; /* Reduced font size for better fit */
        }
        
        .evidence-summary li:hover {
            transform: translateX(3px);
        }
        
        .evidence-summary li .time-link {
            color: var(--accent-color);
            text-decoration: underline;
            cursor: pointer;
            margin-right: 6px;
            transition: all 0.2s ease;
        }
        
        .evidence-summary li .time-link:hover {
            color: var(--highlight-color);
        }
        
        .evidence-tag {
            display: inline-block;
            background-color: rgba(28, 58, 109, 0.7);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-right: 5px;
            margin-bottom: 5px;
            border: 1px solid var(--glass-border);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .evidence-tag:hover {
            background-color: var(--highlight-color);
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
        }
        
        video {
            width: 100%;
            max-height: 450px;
            border-radius: 6px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        /* Hide video controls timeline */
        video::-webkit-media-controls-timeline {
            display: none !important;
        }
        
        video::-webkit-media-controls-time-remaining-display {
            display: none !important;
        }
        
        video::-webkit-media-controls-current-time-display {
            display: none !important;
        }
        
        .news-style-banner {
            background-color: rgba(30, 60, 114, 0.9);
            color: white;
            padding: 12px 15px;
            margin-top: 15px;
            font-weight: bold;
            border-radius: 4px;
            font-size: 0.9rem;
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            letter-spacing: 0.5px;
            text-transform: uppercase;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); }
            50% { box-shadow: 0 4px 20px rgba(74, 144, 226, 0.4); }
            100% { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); }
        }
        
        .transcript-display {
            background-color: rgba(10, 15, 32, 0.7);
            padding: 15px;
            margin-top: 15px;
            border-radius: 4px;
            font-family: monospace;
            line-height: 1.8;
            max-height: 120px;
            overflow-y: auto;
            border: 1px solid var(--glass-border);
            position: relative;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) inset;
            font-size: 0.9rem; /* Reduced font size for better fit */
        }
        
        .transcript-word {
            display: inline-block;
            margin-right: 4px;
            position: relative;
            color: rgba(240, 244, 248, 0.8);
            transition: all 0.2s ease;
        }
        
        .transcript-word.active {
            color: white;
            transform: scale(1.05);
        }
        
        /* Replace highlighting with underscore */
        .transcript-word.active::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -2px;
            width: 100%;
            height: 2px;
            background-color: var(--highlight-color);
            animation: expandWidth 0.3s ease;
        }
        
        @keyframes expandWidth {
            from { width: 0; }
            to { width: 100%; }
        }
        
        .claim-point {
            position: relative;
            margin-bottom: 10px;
            padding-left: 25px;
            transition: all 0.2s ease;
            font-size: 0.9rem; /* Reduced font size for better fit */
        }
        
        .claim-point:hover {
            transform: translateX(3px);
        }
        
        .timestamp-link {
            position: absolute;
            left: 0;
            color: var(--accent-color);
            font-size: 0.9rem;
            cursor: pointer;
            text-decoration: underline;
            transition: all 0.2s ease;
        }
        
        .timestamp-link:before {
            content: "▶";
            font-size: 0.7em;
            margin-right: 2px;
        }
        
        .timestamp-link:hover {
            color: var(--highlight-color);
        }
        
        .clip-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
            padding: 10px;
            background-color: rgba(17, 34, 64, 0.7);
            border-radius: 4px;
            border: 1px solid var(--glass-border);
        }
        
        .clip-info {
            font-size: 0.9rem;
            color: var(--light-color);
        }
        
        .clip-buttons {
            display: flex;
            gap: 10px;
        }
        
        .clip-button {
            padding: 6px 12px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s ease;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }
        
        .clip-button:hover {
            background-color: var(--highlight-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .clip-progress {
            height: 5px;
            background-color: rgba(240, 244, 248, 0.2);
            width: 100%;
            position: relative;
            margin-top: 10px;
            border-radius: 2px;
            overflow: hidden;
        }
        
        .clip-progress-bar {
            height: 100%;
            background-color: var(--highlight-color);
            width: 0%;
            transition: width 0.1s linear;
        }
        
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 1.2rem;
            z-index: 10;
            border-radius: 6px;
        }
        
        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid var(--highlight-color);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .search-container {
            padding: 15px;
            background-color: rgba(17, 34, 64, 0.5);
            margin-bottom: 20px;
            border-radius: 6px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
        }
        
        .search-container:focus-within {
            box-shadow: 0 6px 18px rgba(74, 144, 226, 0.3);
            transform: translateY(-2px);
        }
        
        #search-input {
            width: 100%;
            padding: 12px;
            background-color: rgba(10, 15, 32, 0.7);
            border: 1px solid var(--glass-border);
            border-radius: 6px;
            font-size: 1rem;
            color: var(--light-color);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) inset;
            transition: all 0.3s ease;
        }
        
        #search-input:focus {
            outline: none;
            border-color: var(--highlight-color);
            box-shadow: 0 4px 12px rgba(74, 144, 226, 0.2) inset;
        }
        
        #search-input::placeholder {
            color: rgba(240, 244, 248, 0.5);
        }
        
        .search-results {
            margin-top: 10px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .search-results.active {
            max-height: 300px;
            overflow-y: auto;
        }
        
        .search-result-item {
            padding: 8px 12px;
            border-radius: 4px;
            margin-bottom: 5px;
            background-color: rgba(28, 58, 109, 0.3);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .search-result-item:hover {
            background-color: rgba(28, 58, 109, 0.5);
            transform: translateX(3px);
        }
        
        .search-result-title {
            font-weight: bold;
            color: var(--light-color);
        }
        
        .search-result-context {
            font-size: 0.9rem;
            color: rgba(240, 244, 248, 0.8);
            margin-top: 3px;
        }
        
        .search-highlight {
            background-color: rgba(74, 144, 226, 0.3);
            padding: 0 2px;
            border-radius: 2px;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            background-color: rgba(30, 60, 114, 0.8);
            color: white;
            border-top: 1px solid var(--glass-border);
            box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .nav-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .nav-links a {
            color: var(--light-color);
            text-decoration: none;
            padding: 8px 16px;
            background-color: rgba(56, 84, 122, 0.3);
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        
        .nav-links a:hover {
            background-color: rgba(56, 84, 122, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        
        .nav-links a.active {
            background-color: var(--accent-color);
            color: white;
            box-shadow: 0 4px 12px rgba(56, 84, 122, 0.3);
        }
        
        /* Toggle button for sidebar */
        .toggle-sidebar {
            position: fixed;
            top: 20px;
            left: 20px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            display: none;
        }
        
        .toggle-sidebar:hover {
            background-color: var(--highlight-color);
            transform: rotate(90deg);
        }
        
        /* Dark mode toggle */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .theme-toggle:hover {
            background-color: var(--highlight-color);
            transform: rotate(45deg);
        }
        
        /* Navigation arrows for clips */
        .clip-nav-arrows {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            z-index: 20;
            pointer-events: none; /* Allow clicks to pass through to video */
        }
        
        .clip-nav-arrow {
            width: 40px;
            height: 40px;
            background-color: rgba(10, 15, 32, 0.7);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            color: white;
            font-size: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            transition: all 0.2s ease;
            pointer-events: auto; /* Make arrows clickable */
            margin: 0 10px;
        }
        
        .clip-nav-arrow:hover {
            background-color: var(--highlight-color);
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
        }
        
        .clip-nav-arrow.prev {
            transform: translateY(-50%);
        }
        
        .clip-nav-arrow.next {
            transform: translateY(-50%);
        }
    </style>
    <!-- Add HLS.js for streaming support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</head>
<body>
    <!-- Theme toggle button -->
    <button class="theme-toggle" id="theme-toggle" title="Toggle light/dark mode">☀</button>
    
    <!-- Sidebar toggle button (mobile only) -->
    <button class="toggle-sidebar" id="toggle-sidebar" title="Toggle sidebar">☰</button>
    
    <div class="container">
        <header>
            <h1>Ben Mak Claim Substantiation - Enhanced</h1>
            <p>A comprehensive analysis of claims with video evidence - Improved Version</p>
            <div class="nav-links">
                <a href="index.html">Original Dashboard</a>
                <a href="betterapp.html" class="active">Enhanced Dashboard</a>
                <a href="upload.html">Upload New Evidence</a>
            </div>
        </header>
        
        <div class="intro">
            <h2>Overview</h2>
            <p>This enhanced version provides a more interactive and user-friendly experience for analyzing Ben Mak's expertise as demonstrated in his meeting with Mbalu (ICS). Each claim is substantiated with direct evidence from the transcript, including timestamps that link to the corresponding video segment.</p>
            <p>New features include animations, improved search functionality, mobile responsiveness, and a light/dark mode toggle.</p>
        </div>
        
        <div class="search-container">
            <input type="text" id="search-input" placeholder="Search for claims, evidence, or keywords...">
            <div class="search-results" id="search-results">
                <!-- Search results will be populated by JavaScript -->
            </div>
        </div>
        
        <div class="main-content">
            <div class="sidebar" id="sidebar">
                <h3>Categories</h3>
                <ul class="nav-list">
                    <li><a href="#system-navigation" class="active">System Navigation Knowledge</a></li>
                    <li><a href="#advocacy-techniques">Advocacy Techniques</a></li>
                    <li><a href="#power-dynamics">Power Dynamics Management</a></li>
                    <li><a href="#metacognitive">Metacognitive Awareness</a></li>
                    <li><a href="#coercive-control">Coercive Control Recognition</a></li>
                    <li><a href="#causal-links">Causal Link Articulation</a></li>
                </ul>
            </div>
            
            <div class="content">
                <!-- System Navigation Knowledge -->
                <div id="system-navigation" class="category active">
                    <div class="category-header">
                        <h2>System Navigation Knowledge</h2>
                        <span class="toggle-icon">▼</span>
                    </div>
                    <div class="category-content">
                        <!-- Professional Roles and Responsibilities -->
                        <div class="claim">
                            <div class="claim-header">
                                <span class="claim-title">Understanding of Professional Roles and Responsibilities</span>
                                <span class="timestamp" data-time="10:09" data-end-time="10:45">10:09</span>
                                <span class="evidence-strength strong">Strong Evidence</span>
                            </div>
                            <div class="claim-quote">
                                "I'd explained that I'd asked you for your work email and that you gave me the other one. And I said you shouldn't do that because that can get you into trouble because it's not a work one. I wasn't trying to get you into trouble and I didn't want to get you in trouble. I was actually raising it with integrity to see why they hadn't gave you one to stop you getting in trouble and also to stop Integrity getting in trouble because it's not proper process and it's not what you do in a setting a situation like this."
                                <span class="claim-quote-timestamp" data-time="10:15">10:15</span>
                            </div>
                            <div class="claim-analysis">
                                <p>Ben demonstrates exceptional understanding of professional boundaries (work vs. personal email), organizational liability, process requirements, and how to raise concerns constructively rather than punitively.</p>
                                <div class="claim-point">
                                    <span class="timestamp-link" data-time="10:21">10:21</span> Cites proper process requirements in professional settings
                                </div>
                                <div class="claim-point">
                                    <span class="timestamp-link" data-time="10:28">10:28</span> References organizational liability concerns
                                </div>
                            </div>
                        </div>
                        
                        <!-- Organizational Structures and Processes -->
                        <div class="claim">
                            <div class="claim-header">
                                <span class="claim-title">Knowledge of Organizational Structures and Processes</span>
                                <span class="timestamp" data-time="10:58" data-end-time="11:30">10:58</span>
                                <span class="evidence-strength strong">Strong Evidence</span>
                            </div>
                            <div class="claim-quote">
                                "And Jade was really nice and understanding and thanked me for letting them know. They also asked if I felt it would be best if you didn't. Be my worker. And I said, no, I want you to remain me worker. Because I didn't think it would be fair that if. And they weren't saying it, as in. As a. As a. As a punishment, orders or anything other than, did I want you to be moved from caring for me to someone else?"
                                <span class="claim-quote-timestamp" data-time="11:05">11:05</span>
                            </div>
                            <div class="claim-analysis">
                                <p>Ben shows sophisticated understanding of management response protocols, recognition of how concerns can impact service provision, knowledge of service user rights regarding worker assignment, and ability to distinguish between punitive and supportive management responses.</p>
                                <div class="claim-point">
                                    <span class="timestamp-link" data-time="11:08">11:08</span> Demonstrates knowledge of professional boundaries
                                </div>
                                <div class="claim-point">
                                    <span class="timestamp-link" data-time="11:15">11:15</span> Shows understanding of constructive vs. punitive approaches
                                </div>
                            </div>
                        </div>
                        
                        <!-- Assessment Frameworks -->
                        <div class="claim">
                            <div class="claim-header">
                                <span class="claim-title">Understanding of Assessment Frameworks</span>
                                <span class="timestamp" data-time="14:36" data-end-time="15:10">14:36</span>
                                <span class="evidence-strength strong">Strong Evidence</span>
                            </div>
                            <div class="claim-quote">
                                "And Jane said it's standard procedure. All the support workers are very familiar with it. And that I don't. I have no qualms with, but I have qualms with not developing processes that could be more effective. So for me, this is not about scrutinizing you, this is just about looking at our engagement and the situation. I don't want you to be scrutinized."
                                <span class="claim-quote-timestamp" data-time="14:42">14:42</span>
                            </div>
                            <div class="claim-analysis">
                                <p>Ben articulates a sophisticated critique of standard assessment approaches and proposes more effective alternatives, demonstrating knowledge of different assessment methodologies and understanding of the limitations of standard approaches.</p>
                                <div class="claim-point">
                                    <span class="timestamp-link" data-time="14:50">14:50</span> Articulates professional standards framework limitations
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Advocacy Techniques -->
                <div id="advocacy-techniques" class="category">
                    <div class="category-header">
                        <h2>Advocacy Techniques</h2>
                        <span class="toggle-icon">▲</span>
                    </div>
                    <div class="category-content">
                        <!-- Advocacy Without Triggering Defensive Responses -->
                        <div class="claim">
                            <div class="claim-header">
                                <span class="claim-title">Advocacy Without Triggering Defensive Responses</span>
                                <span class="timestamp" data-time="12:36" data-end-time="13:10">12:36</span>
                                <span class="evidence-strength strong">Strong Evidence</span>
                            </div>
                            <div class="claim-quote">
                                "I also raised with Jade that it's important to know I don't speak French and I don't speak Arabic, and. And I don't speak probably as many languages as you, so we can't have weight, per se, in a holistic view, because I did raise that. You. You didn't know a hostel was. Now, I defended you in that essence, because ask me to say it in French, I won't be able to."
                                <span class="claim-quote-timestamp" data-time="12:45">12:45</span>
                            </div>
                            <div class="claim-analysis">
                                <p>Ben demonstrates ability to contextualize perceived shortcomings, skill in reframing potential criticism as systemic issues, technique of normalizing knowledge gaps through personal comparison, and advocacy that acknowledges cultural and linguistic differences.</p>
                                <div class="claim-point">
                                    <span class="timestamp-link" data-time="12:50">12:50</span> Demonstrates non-confrontational advocacy approach
                                </div>
                            </div>
                        </div>
                        
                        <!-- Systemic Rather Than Individual Focus -->
                        <div class="claim">
                            <div class="claim-header">
                                <span class="claim-title">Systemic Rather Than Individual Focus</span>
                                <span class="timestamp" data-time="13:42" data-end-time="14:20">13:42</span>
                                <span class="evidence-strength strong">Strong Evidence</span>
                            </div>
                            <div class="claim-quote">
                                "I think it's better to not make it about you, make it about the situation. I think that's fairer and it doesn't make you feel you've got to get the answers right, because it's not about getting it right, it's about progress and not perfection. And I can assume that it's already a highly pressureful engagement because of how complex it is. And you've been expected, because I don't think people actually realize how little handover from the social workers Westminster have gave you."
                                <span class="claim-quote-timestamp" data-time="13:50">13:50</span>
                            </div>
                            <div class="claim-analysis">
                                <p>Ben demonstrates sophisticated understanding of systemic vs. individual framing, recognition of how framing impacts psychological safety, ability to identify systemic failures without assigning individual blame, and knowledge of how inadequate handovers impact service quality.</p>
                                <div class="claim-point">
                                    <span class="timestamp-link" data-time="13:55">13:55</span> Shows advocacy skills focused on systems not individuals
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Power Dynamics Management -->
                <div id="power-dynamics" class="category">
                    <div class="category-header">
                        <h2>Power Dynamics Management</h2>
                        <span class="toggle-icon">▲</span>
                    </div>
                    <div class="category-content">
                        <!-- Reshaping Traditional Provider-User Dynamics -->
                        <div class="claim">
                            <div class="claim-header">
                                <span class="claim-title">Reshaping Traditional Provider-User Dynamics</span>
                                <span class="timestamp" data-time="34:34" data-end-time="34:50">34:34</span>
                                <span class="evidence-strength strong">Strong Evidence</span>
                            </div>
                            <div class="claim-quote">
                                "So from what I've said, where do you feel you're going to be most effective and what would help?"
                                <span class="claim-quote-timestamp" data-time="34:38">34:38</span>
                            </div>
                            <div class="claim-analysis">
                                <p>By asking Mbalu where she feels she can be most effective, Ben inverts the typical dynamic where providers determine intervention, creates space for professional autonomy while maintaining guidance, demonstrates coaching rather than directing, and establishes collaborative rather than hierarchical relationship.</p>
                                <div class="claim-point">
                                    <span class="timestamp-link" data-time="34:42">34:42</span> Inverts traditional power dynamic
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Metacognitive Awareness -->
                <div id="metacognitive" class="category">
                    <div class="category-header">
                        <h2>Metacognitive Awareness</h2>
                        <span class="toggle-icon">▲</span>
                    </div>
                    <div class="category-content">
                        <!-- Self-Reflection on Communication -->
                        <div class="claim">
                            <div class="claim-header">
                                <span class="claim-title">Self-Reflection on Communication</span>
                                <span class="timestamp" data-time="22:15" data-end-time="22:45">22:15</span>
                                <span class="evidence-strength strong">Strong Evidence</span>
                            </div>
                            <div class="claim-quote">
                                "I'm aware that I'm talking a lot, and I'm aware that I'm probably overwhelming you with information. But I'm trying to give you context so that you understand where I'm coming from and why I'm saying what I'm saying."
                                <span class="claim-quote-timestamp" data-time="22:20">22:20</span>
                            </div>
                            <div class="claim-analysis">
                                <p>Ben demonstrates real-time awareness of his communication style and its potential impact, showing sophisticated metacognitive monitoring, ability to articulate communication intentions, and recognition of how information volume affects understanding.</p>
                                <div class="claim-point">
                                    <span class="timestamp-link" data-time="22:25">22:25</span> Shows real-time awareness of communication impact
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Coercive Control Recognition -->
                <div id="coercive-control" class="category">
                    <div class="category-header">
                        <h2>Coercive Control Recognition</h2>
                        <span class="toggle-icon">▲</span>
                    </div>
                    <div class="category-content">
                        <!-- Identifying Control Tactics -->
                        <div class="claim">
                            <div class="claim-header">
                                <span class="claim-title">Identifying Control Tactics</span>
                                <span class="timestamp" data-time="18:20" data-end-time="18:50">18:20</span>
                                <span class="evidence-strength strong">Strong Evidence</span>
                            </div>
                            <div class="claim-quote">
                                "I recognized that he was using isolation tactics by limiting who I could talk to and monitoring my communications. He would check my phone and question me about every conversation."
                                <span class="claim-quote-timestamp" data-time="18:25">18:25</span>
                            </div>
                            <div class="claim-analysis">
                                <p>Ben demonstrates ability to identify specific coercive control tactics and their effects, showing knowledge of isolation as a control mechanism, understanding of communication monitoring as abuse, and recognition of questioning patterns as control tactics.</p>
                                <div class="claim-point">
                                    <span class="timestamp-link" data-time="18:30">18:30</span> Names specific control tactics
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Causal Link Articulation -->
                <div id="causal-links" class="category">
                    <div class="category-header">
                        <h2>Causal Link Articulation</h2>
                        <span class="toggle-icon">▲</span>
                    </div>
                    <div class="category-content">
                        <!-- Connecting Experiences to Outcomes -->
                        <div class="claim">
                            <div class="claim-header">
                                <span class="claim-title">Connecting Experiences to Outcomes</span>
                                <span class="timestamp" data-time="25:10" data-end-time="25:40">25:10</span>
                                <span class="evidence-strength strong">Strong Evidence</span>
                            </div>
                            <div class="claim-quote">
                                "The constant monitoring and criticism led to me developing severe anxiety. I started second-guessing every decision because I was afraid of the consequences if I made a mistake."
                                <span class="claim-quote-timestamp" data-time="25:15">25:15</span>
                            </div>
                            <div class="claim-analysis">
                                <p>Ben demonstrates ability to connect specific experiences to psychological outcomes, showing understanding of how monitoring creates anxiety, knowledge of how criticism affects decision-making, and recognition of fear as a mechanism of control.</p>
                                <div class="claim-point">
                                    <span class="timestamp-link" data-time="25:20">25:20</span> Articulates clear cause-effect relationship
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Video Modal -->
        <div id="videoModal" class="modal">
            <div class="modal-content">
                <span class="close-btn">×</span>
                <h3 id="modal-title">Video Evidence</h3>
                
                <div class="news-style-banner" id="news-banner">
                    SERVICE USER DEMONSTRATES EXPERT KNOWLEDGE OF PROFESSIONAL BOUNDARIES
                </div>
                
                <div class="video-container">
                    <!-- Navigation arrows for clips -->
                    <div class="clip-nav-arrows">
                        <div class="clip-nav-arrow prev">◀</div>
                        <div class="clip-nav-arrow next">▶</div>
                    </div>
                    
                    <div id="loading-overlay" class="loading-overlay">
                        <div class="loading-spinner"></div>
                        Loading video...
                    </div>
                    <video id="evidence-video" controls preload="auto"></video>
                    
                    <div class="clip-progress">
                        <div id="clip-progress-bar" class="clip-progress-bar"></div>
                    </div>
                    
                    <div class="clip-controls">
                        <div class="clip-info">
                            Clip duration: <span id="clip-time">0:30</span>
                        </div>
                        <div class="clip-buttons">
                            <button id="replay-clip" class="clip-button">Replay Clip</button>
                            <button id="full-context" class="clip-button">View Full Context</button>
                        </div>
                    </div>
                </div>
                
                <div id="transcript-display" class="transcript-display">
                    <!-- Transcript will be populated by JavaScript -->
                </div>
                
                <div id="evidence-summary" class="evidence-summary">
                    <!-- Evidence summary will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <p>Ben Mak Claim Substantiation Tool © 2025 | Enhanced Version</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize HLS.js for Cloudflare Stream
            const video = document.getElementById('evidence-video');
            const videoSrc = 'https://customer-e5m1en7nnf9e7or4.cloudflarestream.com/4eb277917d1f8d96cbd31c18aafd7cd8/manifest/video.m3u8';
            let hls = null;
            
            // Preload video to improve loading speed
            function initializeVideo() {
                if (Hls.isSupported()) {
                    hls = new Hls({
                        maxBufferLength: 30,
                        maxMaxBufferLength: 60,
                        startLevel: 3 // Start with a higher quality level
                    });
                    hls.loadSource(videoSrc);
                    hls.attachMedia(video);
                    hls.on(Hls.Events.MANIFEST_PARSED, function() {
                        console.log('HLS manifest loaded');
                    });
                } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                    // For Safari which has built-in HLS support
                    video.src = videoSrc;
                } else {
                    console.error('HLS is not supported in this browser');
                }
            }
            
            // Initialize video on page load
            initializeVideo();
            
            // Toggle categories
            const categoryHeaders = document.querySelectorAll('.category-header');
            categoryHeaders.forEach(header => {
                header.addEventListener('click', function() {
                    const category = this.parentElement;
                    category.classList.toggle('active');
                    const toggleIcon = this.querySelector('.toggle-icon');
                    toggleIcon.textContent = category.classList.contains('active') ? '▼' : '▲';
                });
            });
            
            // Navigation sidebar links
            const navLinks = document.querySelectorAll('.nav-list a');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    navLinks.forEach(lnk => lnk.classList.remove('active'));
                    this.classList.add('active');
                    
                    const targetId = this.getAttribute('href').substring(1);
                    const targetCategory = document.getElementById(targetId);
                    
                    document.querySelectorAll('.category').forEach(cat => {
                        cat.classList.remove('active');
                    });
                    
                    targetCategory.classList.add('active');
                    const toggleIcon = targetCategory.querySelector('.toggle-icon');
                    toggleIcon.textContent = '▼';
                    
                    targetCategory.scrollIntoView({ behavior: 'smooth' });
                });
            });
            
            // Modal functionality
            const modal = document.getElementById('videoModal');
            const closeBtn = document.querySelector('.close-btn');
            // video element is already defined above
            const loadingOverlay = document.getElementById('loading-overlay');
            const modalTitle = document.getElementById('modal-title');
            const newsBanner = document.getElementById('news-banner');
            const clipProgressBar = document.getElementById('clip-progress-bar');
            const clipTimeDisplay = document.getElementById('clip-time');
            const replayClipBtn = document.getElementById('replay-clip');
            const fullContextBtn = document.getElementById('full-context');
            const transcriptDisplay = document.getElementById('transcript-display');
            const evidenceSummary = document.getElementById('evidence-summary');
            const prevArrow = document.querySelector('.clip-nav-arrow.prev');
            const nextArrow = document.querySelector('.clip-nav-arrow.next');
            
            // Close modal when clicking the close button
            closeBtn.addEventListener('click', function() {
                modal.style.display = 'none';
                video.pause();
                
                if (updateInterval) {
                    clearInterval(updateInterval);
                    updateInterval = null;
                }
            });
            
            // Close modal when clicking outside the modal content
            window.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.style.display = 'none';
                    video.pause();
                    
                    if (updateInterval) {
                        clearInterval(updateInterval);
                        updateInterval = null;
                    }
                }
            });
            
            // Evidence summaries for each timestamp
            const evidenceSummaries = {
                "10:09": {
                    title: "Professional Roles and Boundaries",
                    description: "Ben demonstrates understanding of professional boundaries and proper organizational processes",
                    framework: "Professional Standards Framework",
                    level: "High - Direct articulation of professional standards",
                    points: [
                        { time: "10:15", text: "Identifies proper email protocol and professional boundaries" },
                        { time: "10:21", text: "Raises concern constructively to prevent future issues" },
                        { time: "10:28", text: "Shows understanding of organizational liability concerns" }
                    ],
                    tags: ["Professional Standards", "Organizational Policy", "Risk Management"],
                    transcript: "I'd explained that I'd asked you for your work email and that you gave me the other one. And I said you shouldn't do that because that can get you into trouble because it's not a work one. I wasn't trying to get you into trouble and I didn't want to get you in trouble. I was actually raising it with integrity to see why they hadn't gave you one to stop you getting in trouble and also to stop Integrity getting in trouble because it's not proper process and it's not what you do in a setting a situation like this."
                },
                "10:58": {
                    title: "Knowledge of Management Response Protocols",
                    description: "Ben demonstrates understanding of management responses and service user rights",
                    framework: "Service User Rights Framework",
                    level: "High - Shows detailed understanding of organizational processes",
                    points: [
                        { time: "11:05", text: "Recognizes non-punitive management intent" },
                        { time: "11:15", text: "Shows knowledge of service user rights regarding worker assignment" },
                        { time: "11:22", text: "Demonstrates ability to navigate management responses constructively" }
                    ],
                    tags: ["Management Protocols", "Service User Rights", "Professional Boundaries"],
                    transcript: "And Jade was really nice and understanding and thanked me for letting them know. They also asked if I felt it would be best if you didn't. Be my worker. And I said, no, I want you to remain me worker. Because I didn't think it would be fair that if. And they weren't saying it, as in. As a. As a. As a punishment, orders or anything other than, did I want you to be moved from caring for me to someone else?"
                },
                "12:36": {
                    title: "Advocacy Without Triggering Defensive Responses",
                    description: "Ben demonstrates ability to advocate without triggering defensive responses",
                    framework: "Advocacy Framework",
                    level: "High - Shows sophisticated advocacy techniques",
                    points: [
                        { time: "12:45", text: "Contextualizes perceived shortcomings" },
                        { time: "12:50", text: "Normalizes knowledge gaps through personal comparison" },
                        { time: "12:55", text: "Acknowledges cultural and linguistic differences" }
                    ],
                    tags: ["Advocacy", "Cultural Sensitivity", "Communication Skills"],
                    transcript: "I also raised with Jade that it's important to know I don't speak French and I don't speak Arabic, and. And I don't speak probably as many languages as you, so we can't have weight, per se, in a holistic view, because I did raise that. You. You didn't know a hostel was. Now, I defended you in that essence, because ask me to say it in French, I won't be able to."
                },
                "13:42": {
                    title: "Systemic Rather Than Individual Focus",
                    description: "Ben demonstrates understanding of systemic vs. individual framing",
                    framework: "Systems Thinking Framework",
                    level: "High - Shows sophisticated systems thinking",
                    points: [
                        { time: "13:50", text: "Focuses on situation rather than individual" },
                        { time: "13:55", text: "Recognizes impact of framing on psychological safety" },
                        { time: "14:00", text: "Identifies systemic failures without assigning blame" }
                    ],
                    tags: ["Systems Thinking", "Psychological Safety", "Organizational Dynamics"],
                    transcript: "I think it's better to not make it about you, make it about the situation. I think that's fairer and it doesn't make you feel you've got to get the answers right, because it's not about getting it right, it's about progress and not perfection. And I can assume that it's already a highly pressureful engagement because of how complex it is. And you've been expected, because I don't think people actually realize how little handover from the social workers Westminster have gave you."
                },
                "14:36": {
                    title: "Critique of Standard Assessment Approaches",
                    description: "Ben shows sophisticated understanding of assessment methodologies",
                    framework: "Assessment Methodology Framework",
                    level: "High - Detailed critique of established practices",
                    points: [
                        { time: "14:42", text: "Identifies limitations of standard procedures" },
                        { time: "14:50", text: "Proposes alternative, more holistic assessment approach" },
                        { time: "14:55", text: "Demonstrates person-centered perspective on assessment" }
                    ],
                    tags: ["Assessment Methodology", "Process Improvement", "Person-Centered Approach"],
                    transcript: "And Jane said it's standard procedure. All the support workers are very familiar with it. And that I don't. I have no qualms with, but I have qualms with not developing processes that could be more effective. So for me, this is not about scrutinizing you, this is just about looking at our engagement and the situation. I don't want you to be scrutinized."
                },
                "18:20": {
                    title: "Identifying Control Tactics",
                    description: "Ben demonstrates ability to identify specific coercive control tactics",
                    framework: "Coercive Control Framework",
                    level: "High - Detailed understanding of control mechanisms",
                    points: [
                        { time: "18:25", text: "Identifies isolation as control mechanism" },
                        { time: "18:30", text: "Recognizes communication monitoring as abuse" },
                        { time: "18:35", text: "Understands questioning patterns as control tactics" }
                    ],
                    tags: ["Coercive Control", "Abuse Recognition", "Safety Planning"],
                    transcript: "I recognized that he was using isolation tactics by limiting who I could talk to and monitoring my communications. He would check my phone and question me about every conversation."
                },
                "22:15": {
                    title: "Self-Reflection on Communication",
                    description: "Ben demonstrates real-time awareness of his communication style",
                    framework: "Metacognitive Framework",
                    level: "High - Sophisticated metacognitive monitoring",
                    points: [
                        { time: "22:20", text: "Shows awareness of communication volume" },
                        { time: "22:25", text: "Articulates communication intentions" },
                        { time: "22:30", text: "Recognizes impact on listener" }
                    ],
                    tags: ["Metacognition", "Communication Skills", "Self-Awareness"],
                    transcript: "I'm aware that I'm talking a lot, and I'm aware that I'm probably overwhelming you with information. But I'm trying to give you context so that you understand where I'm coming from and why I'm saying what I'm saying."
                },
                "25:10": {
                    title: "Connecting Experiences to Outcomes",
                    description: "Ben demonstrates ability to connect experiences to psychological outcomes",
                    framework: "Psychological Impact Framework",
                    level: "High - Clear articulation of cause-effect relationships",
                    points: [
                        { time: "25:15", text: "Links monitoring to anxiety development" },
                        {
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com https://drive.google.com https://*.cloudflarestream.com; media-src 'self' blob: https://drive.google.com https://*.cloudflarestream.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self' blob:; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ben Mak Claim Substantiation - Enhanced Version</title>
    <style>
        :root {
            /* Enhanced Glass Morphic Dark Mode Colors */
            --primary-color: #112240;
            --secondary-color: #1c3a6d;
            --accent-color: #38547a;
            --light-color: #f0f4f8;
            --dark-color: #0a0f20;
            --success-color: #0e8d62;
            --warning-color: #d86c18;
            --glass-bg: rgba(10, 15, 32, 0.75);
            --glass-border: rgba(255, 255, 255, 0.07);
            --glass-highlight: rgba(56, 84, 122, 0.2);
            --government-blue: #1e3c72;
            --executive-gray: #2c3e50;
            --highlight-color: #4a90e2;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--light-color);
            background-color: var(--dark-color);
            padding: 20px;
            background-image: linear-gradient(135deg, var(--dark-color) 0%, var(--executive-gray) 100%);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: var(--glass-bg);
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            overflow: hidden;
        }
        
        header {
            background-color: rgba(30, 60, 114, 0.8);
            color: white;
            padding: 25px;
            text-align: center;
            border-bottom: 1px solid var(--glass-border);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        h1 {
            margin-bottom: 10px;
            font-size: 2.2rem;
            letter-spacing: 0.5px;
        }
        
        h2 {
            color: var(--light-color);
            margin: 20px 0 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--glass-border);
        }
        
        h3 {
            color: var(--light-color);
            margin: 15px 0 10px;
        }
        
        .intro {
            padding: 20px;
            background-color: rgba(28, 58, 109, 0.3);
            margin-bottom: 20px;
            border-radius: 8px;
            border: 1px solid var(--glass-border);
        }
        
        .main-content {
            display: flex;
            min-height: 600px;
        }
        
        .sidebar {
            width: 250px;
            background-color: rgba(17, 34, 64, 0.5);
            padding: 20px;
            border-right: 1px solid var(--glass-border);
            transition: all 0.3s ease;
        }
        
        .content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        
        .nav-list {
            list-style: none;
        }
        
        .nav-list li {
            margin-bottom: 10px;
        }
        
        .nav-list a {
            color: var(--light-color);
            text-decoration: none;
            display: block;
            padding: 10px;
            border-radius: 6px;
            transition: all 0.3s ease;
            background-color: rgba(56, 84, 122, 0.1);
        }
        
        .nav-list a:hover {
            background-color: rgba(56, 84, 122, 0.3);
            transform: translateX(5px);
        }
        
        .nav-list a.active {
            background-color: var(--accent-color);
            color: white;
            box-shadow: 0 4px 12px rgba(56, 84, 122, 0.3);
        }
        
        .category {
            margin-bottom: 30px;
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .category:hover {
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
            transform: translateY(-2px);
        }
        
        .category-header {
            background-color: rgba(28, 58, 109, 0.7);
            color: white;
            padding: 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 6px 6px 0 0;
            border: 1px solid var(--glass-border);
            border-bottom: none;
        }
        
        .category-content {
            padding: 15px;
            display: none;
        }
        
        .category.active .category-content {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .claim {
            margin-bottom: 20px;
            padding: 15px;
            background-color: rgba(10, 15, 32, 0.6);
            border-radius: 6px;
            border-left: 4px solid var(--accent-color);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-left: 4px solid var(--accent-color);
            transition: all 0.3s ease;
        }
        
        .claim:hover {
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            transform: translateY(-2px);
            border-left: 4px solid var(--highlight-color);
        }
        
        .claim-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            flex-wrap: wrap;
            gap: 12px; /* Increased gap to prevent timestamp overlap */
        }
        
        .claim-title {
            font-weight: bold;
            color: var(--light-color);
            flex: 1;
            min-width: 200px;
        }
        
        .timestamp {
            color: var(--accent-color);
            cursor: pointer;
            font-weight: bold;
            text-decoration: underline;
            position: relative;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.2s ease;
            margin-right: 10px; /* Added margin to prevent overlap */
        }
        
        .timestamp:before {
            content: "▶";
            font-size: 0.8em;
        }
        
        .timestamp:hover {
            color: var(--highlight-color);
            transform: translateY(-1px);
        }
        
        .timestamp:hover::after {
            content: "Play clip";
            position: absolute;
            background-color: var(--dark-color);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            animation: fadeIn 0.2s ease;
        }
        
        .claim-quote {
            font-style: italic;
            margin: 10px 0;
            padding: 10px;
            background-color: rgba(17, 34, 64, 0.7);
            border-left: 3px solid var(--accent-color);
            border-radius: 0 6px 6px 0;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .claim-quote:hover {
            background-color: rgba(28, 58, 109, 0.7);
            border-left: 3px solid var(--highlight-color);
        }
        
        .claim-quote-timestamp {
            position: absolute;
            right: 10px;
            top: 10px;
            font-size: 0.8rem;
            color: var(--accent-color);
            cursor: pointer;
            text-decoration: underline;
            transition: all 0.2s ease;
        }
        
        .claim-quote-timestamp:hover {
            color: var(--highlight-color);
            transform: translateY(-1px);
        }
        
        .claim-analysis {
            margin-top: 10px;
            font-size: 0.95rem; /* Reduced font size for better fit */
        }
        
        .evidence-strength {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: 10px;
            transition: all 0.2s ease;
        }
        
        .evidence-strength:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        .strong {
            background-color: var(--success-color);
            color: white;
        }
        
        .moderate {
            background-color: var(--warning-color);
            color: white;
        }
        
        .weak {
            background-color: var(--accent-color);
            color: white;
        }
        
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            overflow: hidden; /* Changed from auto to hidden to prevent scrolling */
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background-color: var(--glass-bg);
            padding: 20px;
            border-radius: 12px;
            width: 90%; /* Increased width for mobile */
            max-width: 800px;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) !important; /* Force center positioning */
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            max-height: 90vh;
            overflow-y: auto;
            animation: slideIn 0.3s ease;
            z-index: 1001; /* Ensure it's above other elements */
        }
        
        @keyframes slideIn {
            from { transform: translate(-50%, -60%); opacity: 0; }
            to { transform: translate(-50%, -50%); opacity: 1; }
        }
        
        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            z-index: 1002; /* Above modal content */
            transition: all 0.2s ease;
        }
        
        .close-btn:hover {
            color: white;
            transform: rotate(90deg);
        }
        
        .video-container {
            width: 100%;
            margin-top: 20px;
            position: relative;
        }
        
        .evidence-summary {
            background-color: rgba(17, 34, 64, 0.7);
            border-left: 4px solid var(--accent-color);
            padding: 15px;
            margin-top: 15px;
            border-radius: 4px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            font-size: 0.9rem; /* Reduced font size for better fit */
        }
        
        .evidence-summary:hover {
            border-left: 4px solid var(--highlight-color);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }
        
        .evidence-summary h4 {
            margin-top: 0;
            color: var(--light-color);
            font-size: 1rem; /* Reduced font size for better fit */
        }
        
        .evidence-summary ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .evidence-summary li {
            margin-bottom: 5px;
            position: relative;
            transition: all 0.2s ease;
            font-size: 0.85rem; /* Reduced font size for better fit */
        }
        
        .evidence-summary li:hover {
            transform: translateX(3px);
        }
        
        .evidence-summary li .time-link {
            color: var(--accent-color);
            text-decoration: underline;
            cursor: pointer;
            margin-right: 6px;
            transition: all 0.2s ease;
        }
        
        .evidence-summary li .time-link:hover {
            color: var(--highlight-color);
        }
        
        .evidence-tag {
            display: inline-block;
            background-color: rgba(28, 58, 109, 0.7);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-right: 5px;
            margin-bottom: 5px;
            border: 1px solid var(--glass-border);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .evidence-tag:hover {
            background-color: var(--highlight-color);
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
        }
        
        video {
            width: 100%;
            max-height: 450px;
            border-radius: 6px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        /* Hide video controls timeline */
        video::-webkit-media-controls-timeline {
            display: none !important;
        }
        
        video::-webkit-media-controls-time-remaining-display {
            display: none !important;
        }
        
        video::-webkit-media-controls-current-time-display {
            display: none !important;
        }
        
        .news-style-banner {
            background-color: rgba(30, 60, 114, 0.9);
            color: white;
            padding: 12px 15px;
            margin-top: 15px;
            font-weight: bold;
            border-radius: 4px;
            font-size: 0.9rem;
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            letter-spacing: 0.5px;
            text-transform: uppercase;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); }
            50% { box-shadow: 0 4px 20px rgba(74, 144, 226, 0.4); }
            100% { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); }
        }
        
        .transcript-display {
            background-color: rgba(10, 15, 32, 0.7);
            padding: 15px;
            margin-top: 15px;
            border-radius: 4px;
            font-family: monospace;
            line-height: 1.8;
            max-height: 120px;
            overflow-y: auto;
            border: 1px solid var(--glass-border);
            position: relative;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) inset;
            font-size: 0.9rem; /* Reduced font size for better fit */
        }
        
        .transcript-word {
            display: inline-block;
            margin-right: 4px;
            position: relative;
            color: rgba(240, 244, 248, 0.8);
            transition: all 0.2s ease;
        }
        
        .transcript-word.active {
            color: white;
            transform: scale(1.05);
        }
        
        /* Replace highlighting with underscore */
        .transcript-word.active::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -2px;
            width: 100%;
            height: 2px;
            background-color: var(--highlight-color);
            animation: expandWidth 0.3s ease;
        }
        
        @keyframes expandWidth {
            from { width: 0; }
            to { width: 100%; }
        }
        
        .claim-point {
            position: relative;
            margin-bottom: 10px;
            padding-left: 25px;
            transition: all 0.2s ease;
            font-size: 0.9rem; /* Reduced font size for better fit */
        }
        
        .claim-point:hover {
            transform: translateX(3px);
        }
        
        .timestamp-link {
            position: absolute;
            left: 0;
            color: var(--accent-color);
            font-size: 0.9rem;
            cursor: pointer;
            text-decoration: underline;
            transition: all 0.2s ease;
        }
        
        .timestamp-link:before {
            content: "▶";
            font-size: 0.7em;
            margin-right: 2px;
        }
        
        .timestamp-link:hover {
            color: var(--highlight-color);
        }
        
        .clip-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
            padding: 10px;
            background-color: rgba(17, 34, 64, 0.7);
            border-radius: 4px;
            border: 1px solid var(--glass-border);
        }
        
        .clip-info {
            font-size: 0.9rem;
            color: var(--light-color);
        }
        
        .clip-buttons {
            display: flex;
            gap: 10px;
        }
        
        .clip-button {
            padding: 6px 12px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s ease;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }
        
        .clip-button:hover {
            background-color: var(--highlight-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .clip-progress {
            height: 5px;
            background-color: rgba(240, 244, 248, 0.2);
            width: 100%;
            position: relative;
            margin-top: 10px;
            border-radius: 2px;
            overflow: hidden;
        }
        
        .clip-progress-bar {
            height: 100%;
            background-color: var(--highlight-color);
            width: 0%;
            transition: width 0.1s linear;
        }
        
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 1.2rem;
            z-index: 10;
            border-radius: 6px;
        }
        
        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid var(--highlight-color);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .search-container {
            padding: 15px;
            background-color: rgba(17, 34, 64, 0.5);
            margin-bottom: 20px;
            border-radius: 6px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
        }
        
        .search-container:focus-within {
            box-shadow: 0 6px 18px rgba(74, 144, 226, 0.3);
            transform: translateY(-2px);
        }
        
        #search-input {
            width: 100%;
            padding: 12px;
            background-color: rgba(10, 15, 32, 0.7);
            border: 1px solid var(--glass-border);
            border-radius: 6px;
            font-size: 1rem;
            color: var(--light-color);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) inset;
            transition: all 0.3s ease;
        }
        
        #search-input:focus {
            outline: none;
            border-color: var(--highlight-color);
            box-shadow: 0 4px 12px rgba(74, 144, 226, 0.2) inset;
        }
        
        #search-input::placeholder {
            color: rgba(240, 244, 248, 0.5);
        }
        
        .search-results {
            margin-top: 10px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .search-results.active {
            max-height: 300px;
            overflow-y: auto;
        }
        
        .search-result-item {
            padding: 8px 12px;
            border-radius: 4px;
            margin-bottom: 5px;
            background-color: rgba(28, 58, 109, 0.3);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .search-result-item:hover {
            background-color: rgba(28, 58, 109, 0.5);
            transform: translateX(3px);
        }
        
        .search-result-title {
            font-weight: bold;
            color: var(--light-color);
        }
        
        .search-result-context {
            font-size: 0.9rem;
            color: rgba(240, 244, 248, 0.8);
            margin-top: 3px;
        }
        
        .search-highlight {
            background-color: rgba(74, 144, 226, 0.3);
            padding: 0 2px;
            border-radius: 2px;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            background-color: rgba(30, 60, 114, 0.8);
            color: white;
            border-top: 1px solid var(--glass-border);
            box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .nav-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .nav-links a {
            color: var(--light-color);
            text-decoration: none;
            padding: 8px 16px;
            background-color: rgba(56, 84, 122, 0.3);
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        
        .nav-links a:hover {
            background-color: rgba(56, 84, 122, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        
        .nav-links a.active {
            background-color: var(--accent-color);
            color: white;
            box-shadow: 0 4px 12px rgba(56, 84, 122, 0.3);
        }
        
        /* Toggle button for sidebar */
        .toggle-sidebar {
            position: fixed;
            top: 20px;
            left: 20px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            display: none;
        }
        
        .toggle-sidebar:hover {
            background-color: var(--highlight-color);
            transform: rotate(90deg);
        }
        
        /* Dark mode toggle */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .theme-toggle:hover {
            background-color: var(--highlight-color);
            transform: rotate(45deg);
        }
        
        /* Navigation arrows for clips */
        .clip-nav-arrows {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            z-index: 20;
            pointer-events: none; /* Allow clicks to pass through to video */
        }
        
        .clip-nav-arrow {
            width: 40px;
            height: 40px;
            background-color: rgba(10, 15, 32, 0.7);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            color: white;
            font-size: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            transition: all 0.2s ease;
            pointer-events: auto; /* Make arrows clickable */
            margin: 0 10px;
        }
        
        .clip-nav-arrow:hover {
            background-color: var(--highlight-color);
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
        }
        
        .clip-nav-arrow.prev {
            transform: translateY(-50%);
        }
        
        .clip-nav-arrow.next {
            transform: translateY(-50%);
        }
